## 🖼 Slide 1: 퍼즐팩 Phase1_일정표 퍼즐팩 추가 기능

- 상품서비스기획팀
- 박지수
- V0.2


---


## 🖼 Slide 2: - 2 -

- 퍼즐팩 Phase1 이슈 내용 정리


---


## 🖼 Slide 3: - 3 -

- V0.2
- V0.3
- V0.4
- V0.5
- V0.6
- V0.7
- V0.8
- V0.9
- V1.0
- 본 문서는 퍼즐팩 Phase1 기준으로 작성되었으며, Phase2 항목은 별도 진행한다.


---


## 🖼 Slide 4: - 4 -

- 1. 요청 및 요구 사항
- 요청 및 기획내용
- 패키지 상품 강화를 위해 에어텔, 세미패키지 상품 일정표 내 현지투어플러스 추가 기능 제공
- 2. 기획의도/이유
  - 통합예약코드
    - 관리용 통합 예약코드 생성
  - 하나허브
    - 판매상품관리
      - 테마(또는 브랜드) 퍼즐팩 설정 추가
      - 판매상품상세 내 현지투어플러스 설정 영역
    - 예약관리
      - 통합예약관리 화면추가
      - 패키지 예약관리 내 통합예약코드 영역 추가
  - 닷컴
    - 일정표 내 퍼즐팩 노출
      - 퍼즐팩 인원 설정 및 설명 노출 영역
      - 현지투어플러스 목록 노출 영역
    - 예약하기, 결제하기
      - 퍼즐팩 여행자 정보 입력 및 수정기능
      - 전액결제 진행
      - 통합예약코드 및 상품별 예약코드 생성
    - 예약완료
      - 퍼즐팩 탭추가
      - 통합예약코드 노출
      - 상품별 예약내역상세 내 종속예약코드 노출
      - 퍼즐팩 + 본상품 포함된 일정표 확인필요


---


## 🖼 Slide 5: - 5 -

- 퍼즐팩 Phase1 정책


---


## 🖼 Slide 6: - 6 -

  - 퍼즐팩 기본 정책
    - 적용대상
      - 테마구분이 ‘퍼즐팩’으로 설정된 상품만 일정표에서 현지투어플러스 상품을 추가할 수 있다.
      - 퍼즐팩으로 판매 될 현지투어플러스 상품은 에어텔, 세미패키지 기준으로 모상품에서 매핑 가능하다.
      - 퍼즐팩에서 선택관광 추가가 필요한 경우, 현지투어플러스 상품을 생성하여 퍼즐팩에 매핑한다.
    - 통합예약코드 생성 정책
      - 퍼즐팩으로 설정된 상품은 예약 시 통합예약코드가 생성된다.
      - 종속 예약코드가 1개인 경우에도 통합예약코드는 생성된다.
    - 노출정책
      - 퍼즐팩은 판매상품 일정표에서 노출된다.
      - 퍼즐팩 리스트 팝업을 통해 전체 퍼즐팩 목록과 선택 이력을 확인할 수 있다.
    - 예약 정책
      - 일정표에서 선택된 퍼즐팩은 예약하기 페이지에서도 동일하게 노출된다.
      - 예약하기 페이지에서 Back 버튼을 실행 시,퍼즐팩을 포함한 모든 선택 내역은 초기화된다.
      - 퍼즐팩의 인원 설정은 모상품에 입력된 여행자 정보를 기준으로 한다.
      - 현지투어플러스 상품별 설정 인원에 따라 여행자는 임의로 배정된다.
        - ※예시) 모상품 성인 3, 아동 1, 유아 1 + 현지투어플러스1에 성인 2, 아동 1  + 현지투어플러스2에 성인 1, 유아 1  예약 시,현지투어플러스1에 성인1, 성인2 , 아동 1로 배정 /  현지투어플러스2에 성인1, 유아1 배정여행자는 상품별 설정 인원 기준 순서대로 배정되며 다른상품에 중복 배정될 수 있다.
- 퍼즐팩 Phase1 정책


---


## 🖼 Slide 7: - 7 -

- 퍼즐팩 Phase1 정책
    - 결제 정책
      - 퍼즐팩은 전액결제로 진행된다.
      - 퍼즐팩은 신용카드 결제만 가능하며 간편결제는 불가하다.
      - 카드 BIN 키인 결제만 가능하여 카드 청구 할인 및 이벤트는 적용되지 않는다.
      - 쿠폰은 모상품에만 적용 가능하며 정액 쿠폰만 사용 가능하다.
      - 노출약관은 확인중이다.


---


## 🖼 Slide 8: - 8 -

  - 통합예약코드 (공통에서 정리예정)
    - 통합예약코드는 퍼즐팩 구매 시 생성되는 관리용 상위 예약번호이다.
    - 통합예약코드는 관리 용도로만 사용되며, 해당 코드 기준으로 예약 변경이나 취소는 불가하다.
    - 테마가 퍼즐팩이고 상품속성코드가 P(세미패키지) 또는 B(결합상품/에어텔) 인 경우 통합예약코드가 생성된다.
    - 퍼즐팩 테마 상품은 종속 예약코드 수와 관계없이 항상 통합예약코드를 가진다.
    - 통합예약 적용 대상의 경우, 단일 예약코드도 통합예약코드와 함께 생성된다.
    - 통합예약코드의 종속 예약코드에 대해 대리점 담당자 배정은 동일하게 배정된다. (확인중이다.)
    - 수기로 생성된 예약코드에 대해서는 통합예약코드 매핑기능은 현재는 불가능하다.
    - 적용기준
      - 통합예약 적용 대상인 경우
        - 예약 시 통합예약코드와 단일예약코드가 함께 생성된다.
        - 단일 예약코드는 통합예약코드에 종속되어 관리된다.
      - 통합예약 적용 대상이 아닌 경우
        - 기존 예약코드만 생성되며 통합예약코드는 생성되지 않는다.
        - 주문 단위 통합 구조를 사용하지 않는다.
      - 적용 속성 리스트는 운영/시스템 정책에 따라 변경 가능하도록 관리된다.
    - 코드정책
      - 통합 예약코드의 코드는 상품속성코드와 겹치지 않는 알파벳을 사용
        - R : 통합 상위 예약 기준코드
        - YY : 생성년도 끝 2자리
        - 시퀀스 8자리 : 숫자 8자리, 하위(종속된)예약코드와 겹치지 않게 순차대로 부여
        - 유니크 key : [R][YY][시퀀스]
    - 결제정책
      - PG결제 및 예약에 관련된 모든 내용은 각 예약코드로 진행된다. (기존프로세스 동일)
- 통합 상위 예약 기준코드
- R2500000001
- 생성년도    시퀀스 8자리
- 통합예약코드 시퀀스             00000001
- 종속예약코드 시퀀스 순차대로 부여됨
- 에어텔                                   00000002
- 현지투어플러스                     00000003
- 현지투어플러스                     00000004
- 현지투어플러스                     00000005
    - .
    - .
    - .
    - .
- 퍼즐팩 Phase1 정책


---


## 🖼 Slide 9: - 9 -

    - 컬럼추가
      - 각 예약코드 테이블 내 통합예약코드 컬럼 추가 필요
      - 퍼즐팩으로 구매하지 않은 경우에는 null
      - null인 경우에 이슈 없도록 수정 필요
- 퍼즐팩 Phase1 정책
- 통합예약코드내 종속예약코드 N개인 경우
- 통합예약코드내 종속예약코드 1개인 경우


---


## 🖼 Slide 10: - 10 -

  - 닷컴 퍼즐팩 노출정책
    - 판매상품 일정표 내 추가 가능한 현지투어플러스를 노출한다.
    - API
      - 패키지 상품 API endpoint : /pkg/api/common/pkgcomprod/getPkgProdChcStsngInfo/v1.00
        - 테마정보 (prodSprtrDvCd) – ‘퍼즐팩’ 코드 추가 필요
        - 현지투어플러스(퍼즐팩) – 신규 파라미터 추가 필요
- 퍼즐팩 Phase1 정책
- 기준판매상품 : 마스터코드 기준 최저가 상품


---


## 🖼 Slide 11: - 11 -

    - 모바일 노출 정책
      - 일정표 노출
        - 현지투어플러스(퍼즐팩)는 상세일정 상단 미팅정보 하단에 노출된다.  (1일차 /2일차 사이는 1일차가 이미 아코디언이 펼쳐진 상태로 노출되기에 한눈에 들어오지 않을 것 같음)
        - 예약하기 버튼은 예약하기 / 퍼즐팩으로 분리된다.
          - 예약하기 버튼 : 기존 프로세스 유지
          - 퍼즐팩 버튼 : 퍼즐팩 리스트 및 선택 내역 확인 팝업 호출
      - 퍼즐팩(현지투어플러스) 카드 노출
        - 현지투어플러스는 마스터코드 + 구분자기준으로 노출되며, 카드형식으로 노출된다.
        - 카드형식으로 노출된 현지투어플러스는 한페이지에 최대 2개반까지 노출되며 ‘스와이프’로 이동한다.
        - 카드리스트는 설정된 우선순위 순으로 노출된다.
        - 현지투어플러스 카드형식에서 퍼즐팩 담기를 통해 현지투어플러스 상세 반팝업이 호출된다.
        - 카드리스트에 노출되는 상품정보는 마스터코드 기준 최저가 상품이 기준판매상품이 되어 노출된다.
          - 상품명, 최소출발인원, 대표상품코드 태그, 성인금액
        - 카드 리스트 내 퍼즐팩 담기 버튼 실행 시 반팝업이 호출된다.
        - 선택이력이 있을 경우에는
          - 카드는 하이라이트로 색상이 변경되며, 버튼 색상 변경
          - 버튼명 [담기완료] 선택상품출발일,(성인(인원수), 아동(인원수)) (선택된 인원수 노출)로 변경
      - 퍼즐팩(현지투어플러스) 상세 반팝업
        - 반팝업은 현지투어플러스 상세내용과 예약가능한 일자 및 인원설정이 노출된다.
        - 일자는 본상품의 시작일자부터 종료일자까지 노출된다.
        - 판매상품코드가 ‘마감’ 상태인 경우에도 일자는 노출되며, 선택은 불가한 상태로 표시된다.
          - 버튼명 : 마감으로 표기
        - 일자선택 시 상품금액은 리플래시되며 나이구분 별 상품금액, 좌석수등 재호출된다.
- 퍼즐팩 Phase1 정책
- 퍼즐팩 인원 설정이력 없음
- 퍼즐팩 인원 설정이력 있음


---


## 🖼 Slide 12: - 12 -

        - 현지투어플러스의 정보는 공통으로 노출된다.
        - 정보는 대표상품코드 정보와 판매상품의 정보로 출력된다.
          - 상품명 : 판매상품코드의 상품명
          - 이미지 : 마스터코드의 대표상품코드 내 등록된 이미지로 출력된다. (현지투어플러스의 마스터코드는 상품본부에서 정리예정)
          - 설명 : 허브에서 입력된 정보로 출력된다.
          - 예약 인원수 및  좌석수 : 판매상품코드 기준으로 출력되며, 일자선택 시 리플래시 된다.
          - 나이구분 금액 : 판매상품코드 기준으로 출력되며, 금액 0원인 나이구분은 미노출 된다.
- 퍼즐팩 Phase1 정책
- 판매상품코드가 ‘마감’ 상태인 경우에도 일자는 노출되며,선택은 불가한 상태로 표시


---


## 🖼 Slide 13: - 13 -

      - 인원설정
        - 인원선택 Default 값은 0 이며 0인 경우 ‘–’값은 비활성화 처리된다.
        - 최대 선택 가능 인원은 상품에서 선택한 인원수이다.
        - 선택 인원수보다 많은 인원수를 선택하려고 할 경우 알럿이 호출된다.
        - 상품의 설정된 인원수 보다 퍼즐팩의 인원수가 상이한 경우
          - 상품 인원 수 < 퍼즐팩 인원 수 : [+]버튼 비활성화, 알럿 노출
            - 알럿 문구 : 상품 인원수보다 많은 인원수는 선택 할 수 없습니다.
          - 상품 인원 수 > 퍼즐팩 인원 수 : 여행자 순번으로 적용
            - 예시) 상품 인원수 = 성인4명, 퍼즐팩 인원수 = 성인2명인 경우 여행자1(성인), 여행자2(성인)에 적용된다.
        - 설정된 여행자정보는 예약하기에서 수정이 가능하다.
        - 반팝업 하단 선택 완료버튼은
          - 인원 설정 내역이 없을 경우 : 버튼(닫기) , 실행 시 팝업 닫힘
          - 인원 설정 내역이 있을 경우 : 버튼 활성화 (담기 (+퍼즐팩 인원 설정 합산 금액)
            - 실행 시 컨펌 알럿 호출
              - 퍼즐팩 최종 선택 하시겠습니까? 사전 신청된 퍼즐팩은 진행이 미확정입니다. 확정 여부는 예약담당자와 확인 부탁드립니다.
                - 확인 :  퍼즐팩 금액 반영 후 팝업 닫힘
                - 취소 : 컨펌창 닫힘, 팝업유지, 금액 반영 없음
          - 인원 설정 변경이 있을 경우 : 버튼 활성화 (담기 (+ 전체 퍼즐팩의 인원 설정 합산 금액)
            - 인원 변동시에는 인원설정 내역과 동일 프로세스 진행
            - 인원 0으로 변동시에는 인원설정 내역과 동일 프로세스 진행 후 버튼 ‘닫기‘ 로 최종 변경
- 퍼즐팩 Phase1 정책
- [-] 비활성화
- [+] 비활성화
- 닫기
- 퍼즐팩 담기 (+999,999원)


---


## 🖼 Slide 14: - 14 -

    - 퍼즐팩버튼 (하단고정버튼)
      - 하단 고정 버튼 영역에서 예약하기 버튼 우측에 신규로 추가
      - ‘퍼즐팩’ 버튼은 예약하기 버튼 너비 영역에서 예약하기 버튼과 나눠서 사이즈 지정
      - 예약하기 버튼은 상품에 설정된 인원수가 있을 경우 합산 금액을 [예약하기] 아래에 노출
      - [퍼즐팩] 버튼은 퍼즐팩(현지투어플러스) 설정된 내역이 있을 경우 총 합산금액을 [퍼즐팩] 아래에 +00,000원 형식으로 노출
      - [퍼즐팩] 버튼 실행 시 추가 가능한 퍼즐팩 리스트 팝업이 호출
    - 퍼즐팩 버튼 (레이어 내 금액노출) –2안
      - 하단 고정 버튼 영역에서 예약하기 버튼 우측에 신규로 추가
      - ‘퍼즐팩’ 버튼은 예약하기 버튼 너비 영역에서 예약하기 버튼과 나눠서 사이즈 지정
        - 예약하기 버튼 실행 시 레이어 팝업 내 퍼즐팩 선택 내역 노출
        - ‘퍼즐팩’ 버튼 실행 시 퍼즐팩 리스트 팝업 호출
        - 합산금액은 선택된 퍼즐팩의 총 합산 금액 노출
          - (퍼즐팩1  단가 x 인원수) + (퍼즐팩2  단가 x 인원수)
        - 퍼즐팩 선택 내역은 [일차구분] 상품명, 설정인원수가 노출 되며, x버튼을 통해  선택 삭제 가능하다.
        - 삭제 시 컨펌 알럿이 호출되고 확인 시 선택된 퍼즐팩 삭제, 금액은 재계산된다.
          - 컨펌 : 퍼즐팩을 삭제하시겠습니까?
            - 확인 : 퍼즐팩 삭제, 금액재계산
            - 취소 : 컨펌 닫힘, 레이어팝업 유지
- 퍼즐팩 Phase1 정책
- 예약하기
- 예약하기
- 999,999,999원
- 퍼즐팩
- 퍼즐팩
- +999,999,999원


---


## 🖼 Slide 15: - 15 -

    - 퍼즐팩 리스트 팝업
      - 선택가능한 전체 퍼즐팩 리스트 및 선택 이력 노출 팝업 영역이다.
      - 선택가능한 퍼즐팩은 리스트로 노출되며 선택 시 퍼즐팩 상세 반팝업이 호출된다.
      - 퍼즐팩 리스트는 퍼즐팩 상품명, 이미지, 성인금액이 노출되며, 퍼즐팩 카드에서 노출 되는 정보 기준과 동일하다.
      - 일정표에 노출되는 정보와 리스트는 연동된다.
      - 선택이력이 있는 퍼즐팩은 하이라이트 색상이 변경되며, 선택된 날짜 및 인원수가 출력된다.
      - 팝업 하단 완료 버튼은 반팝업과 기능 동일
          - 인원 설정 내역이 없을 경우 : 버튼(닫기) , 실행 시 팝업 닫힘
          - 인원 설정 내역이 있을 경우 : 버튼 활성화 (담기 (+퍼즐팩 인원 설정 합산 금액)
            - 실행 시 컨펌 알럿 호출
              - 퍼즐팩 최종 선택 하시겠습니까? 사전 신청된 퍼즐팩은 진행이 미확정입니다. 확정 여부는 예약담당자와 확인 부탁드립니다.
                - 확인 :  퍼즐팩 금액 반영 후 팝업 닫힘
                - 취소 : 컨펌창 닫힘, 팝업유지, 금액 반영 없음
          - 인원 설정 변경이 있을 경우 : 버튼 활성화 (담기 (+ 전체 퍼즐팩의 인원 설정 합산 금액)
            - 인원 변동시에는 인원설정 내역과 동일 프로세스 진행
            - 인원 0으로 변동시에는 인원설정 내역과 동일 프로세스 진행 후 버튼 ‘닫기‘ 로 최종 변경
- 퍼즐팩 Phase1 정책
- 닫기
- 퍼즐팩  담기 (+999,999원)


---


## 🖼 Slide 16: - 16 -

    - PC 노출정책
      - 퍼즐팩은 무이자 안내 노출영역 비노출한다.
      - 일정표 노출
        - 현지투어플러스(퍼즐팩)는 여행일정 1일차와 2일차 사이에 노출한다.
        - 우측 스티키 사이드바 예약하기 버튼 상단에 퍼즐팩 버튼이 추가된다.
          - 퍼즐팩 버튼 : 퍼즐팩 리스트 및 선택 내역 확인 팝업 호출
      - 퍼즐팩(현지투어플러스) 카드 노출
        - 카드 노출형식은 3개씩 노출되며 양쪽 페이지네이션을 추가한다.
        - 또는 카드 리스트 형식으로 노출된다.
        - 그 외 노출 내용은 모바일과 동일하다.
        - 사이즈는 PC 디바이스에 너비 조정된다.
        - 퍼즐팩(현지투어플러스) 상세 반팝업, 금액산출식, 퍼즐팩 리스트 모두 동일하다.
- 퍼즐팩 Phase1 정책
- 퍼즐팩 인원 설정이력 있음
- 퍼즐팩 인원 설정이력 있음


---


## 🖼 Slide 17: - 17 -

      - 퍼즐팩 버튼
        - 우측 스티키 사이드바 영역에  총 금액 영역 하단, [예약하기] 버튼 상단에 [퍼즐팩] 버튼을 노출한다.
        - 버튼을 실행 시 퍼즐팩 리스트 팝업이 호출된다.
        - 퍼즐팩 리스트 팝업은 모바일과 동일하다. 단, 팝업 너비랑 높이는 PC에 맞춰서 노출된다.
        - 퍼즐팩 담기 이력이 있을 경우
          - 퍼즐팩 버튼 (담기 이력이 있을 경우)- 버튼 내 합산 금액 노출
            - 버튼 색상 변경된다.
            - 선택된 퍼즐팩 전체 합산 금액 버튼 우측 (괄호)안에 출력된다.
- 퍼즐팩 Phase1 정책
- 퍼즐팩 인원 설정이력 없음
- 퍼즐팩 인원 설정이력 있음


---


## 🖼 Slide 18: - 18 -

  - 퍼즐팩 예약하기, 결제하기 (PC / 모바일 동일)
    - 퍼즐팩은 회원예약만 가능하다.
    - 퍼즐팩 선택내역 노출
      - 일정표에서 선택된 퍼즐팩은 예약하기에도 동일하게 보이며, 인원수에 대해 삭제 / 수정/ 추가 가능하다.
      - 퍼즐팩은 일정표에서만 선택 가능하다.
      - 선택된 퍼즐팩은 이용호텔 및 퍼즐팩 상단에 동일한 아코디언박스 형태로 노출된다.
      - 디폴트는 아코디언이 닫혀있으며 영역명은 현지투어플러스(퍼즐팩) 가칭
        - 선택이력이 있을 경우 : 선택완료 (건수)
        - 선택이력이 없을 경우 : 선택없음
      - 아코디언이 펼쳐졌을 때 선택된 퍼즐팩 이력이 리스트 형식으로 노출되며
        - 상품명, 선택인원, 합산금액, 일정이 노출되며
        - 여행자정보가 출력된다.
          - 여행자 정보는 모상품에 입력된 여행자에 퍼즐팩 인원수에 따라 임의로 배정된다.
          - 여행자정보는 수정이 가능하다.
          - 각 여행자 정보 우측의 재선택 버튼을 통해 여행자정보 수정 팝업 호출 된다.
          - 모상품의 여행자 정보는 입력 후 저장하는 액션이 없으므로, 여행자정보 순번만 노출된다.
            - 여행자정보수정하기 팝업
              - 모상품정보에 등록된 여행자정보 리스트 형식으로 출력된다
          - 여행자 정보 변경에 따른 금액은 재계산된다.
        - 최하단에는 해당 상품의 약관 동의가 노출된다 (필수)
      - 본상품의 여행자정보에 노출되는 노티에 여행자정보 입력에 대해 안내 문구를 추가한다.
      - 예약하기 페이지에서 Back 버튼을 실행하면 모든 선택 내역은 초기화된다.(기존 정책 동일),
- 퍼즐팩 Phase1 정책
- 아코디언 펼쳤을 때
- 아코디언 닫았을 때


---


## 🖼 Slide 19: - 19 -

    - 결제금액
      - 퍼즐팩 추가에 따른 일정표에 노출되는 상품금액은 아래와 같이 정의한다.
      - 퍼즐팩은 쿠폰 및 할인 이벤트가 적용되지 않는다.
      - 금액 산출식
      - 결제내역상세에서는 상품금액과 퍼즐팩금액이 노출된다.
      - 전액결제버튼에 노출되는 금액은 총결제금액으로 출력된다. (할인 적용 전 금액)
      - 전액결제버튼 실행 후 약관 안내 팝업이 호출된다. (국외 에어텔 특별약관 or 퍼즐팩 특별약관  확인  알럿 호출 모두동의 완료)
      - 동의 완료 후 결제하기 페이지로 이동된다.
    - 결제하기
      - 할인/혜택에서 쿠폰, 마일리지, 상품권, 기프트 카드는 사용 가능하다.
      - 단, 쿠폰은 모상품기준으로 적용되며 정액 쿠폰만 사용 가능하다.
      - 결제 상세내역에서 금액 자세히 보기 시 상품금액과 퍼즐팩 금액으로 출력한다.
        - 상품금액 : 모상품금액 합산
        - 퍼즐팩 : 선택된 퍼즐팩(현지투어플러스 상품금액
      - 퍼즐팩은 신용카드결제만 가능하며 이외 간편결제는 불가하다. (무통장입금, 카카오페이, 페이코, 네이버페이)
      - 카드 Bin 키인 결제만 가능하므로 카드 청구 할인등 할인 이벤트 적용이 불가하다.
      - 하단 안심결제 캠페인, 현금영수증 등록관리 영역 비노출되며, 카드번호 입력 후 결제 시 N번 결제 진행될 수 있다는 안내 문구가 필요하다.
    - 예약완료페이지 (결제완료)
      - 예약완료 페이지에서 선택된 퍼즐팩으로 일차별 일정을 보여준다.
      - 결제 오류인 경우 실패이력과 성공이력을 보여준다.
- 퍼즐팩 Phase1 정책


---


## 🖼 Slide 20: - 20 -

- ①예약코드 PG승인
- ②예약코드 PG승인
- ③예약코드 PG승인
- …(N회 반복)
- 예약하기
- 퍼즐팩
- 상품여부
- Y/N?
- 통합예약코드
- 생성
- 상품별
- 예약코드 생성
- 상품예약코드
- 생성
- PG결제
- 예약코드별
- PG승인 (N회)
- PG승인
- 예약완료
- 예약코드 별
- 결제상태 저장
- 상품별 예약코드 생성
- Y
- N
- 예약코드별
- TMS 발송
- ①상품예약코드 생성
- ②상품예약코드 생성
- ③상품예약코드 생성
- …(N회 반복)
- 결제진행
- 결제정책확인
- (완납/계약금)
- 결제진행
- 결제정책확인
- (완납/계약금)
- 통합예약코드 생성 프로세스
- 상품별
- 이후 프로세스는 동일
- (예약코드별 PG승인 (N회)
- 결제 방법 선택
- 카드 BIN 키인
- 결제


---


## 🖼 Slide 21

    - 결제 오류
      - 예약코드 생성 후 결제 승인이 진행된다.
      - 결제 승인 오류 발생 시, 오류 발생 이전에 승인 완료된 예약코드만 생성된다.
      - 오류 발생 이후의 예약코드 생성 및 결제 승인은 중단된다.
      - 오류 발생 시 예약완료 페이지에서 안내 알럿이 노출되며 결제 성공된 예약코드와 실패 상품에 대해 안내 제공된다.
- 퍼즐팩 Phase1 정책
- - 21 -
- 통합예약코드
- 생성
- 상품별
- 예약코드 생성
- PG결제
- 예약코드별
- PG승인 (N회)
- 예약완료
- 상품별 예약코드 생성
- ①상품예약코드 생성
- 결제진행
- 결제정책확인
- (완납/계약금)
- 상품별
- 결제 중 승인 오류 발생 시
- 오류 발생 이전에 정상 승인된 건에 대해서만 예약코드를 생성
- 오류 발생 건 및 이후 승인 대기 건은 모두 승인 요청 중단
- 예약완료 페이지 내 실패 상품에 대한 안내 제공
- 오류 코드 정의 필요
- (예약코드별 PG승인 (N회)
- 카드 BIN 키인
- 결제
- ②상품예약코드 생성
- ③상품예약코드 생성
- …(N회 반복)
- ① 예약코드 PG승인
- ② 예약코드 PG승인
- ③ 예약코드 PG승인
- …(N회 반복)
- X
- 결제 오류 발생 시 다음 예약코드 결제 승인 중단
- X
- 결제 오류 발생 시 다음 예약코드 생성 중단
- 승인 오류
- 전체 승인 성공


---


## 🖼 Slide 22: - 22 -

    - 예약내역
      - 모바일 예약내역
        - 예약내역
          - 예약내역 내 [퍼즐팩]영역이 추가된다.
          - 예약내역 리스트에서는 통합예약코드 기준으로 예약이 묶여 노출된다.
          - 예약 건수는 통합예약코드에 종속된 예약코드 수 기준으로 표시된다.
          - 패키지와 동일하게 예약내역, 취소내역, 지난내역을 노출한다.
          - 리스트 노출기간은 패키지와 동일하다.
          - 노출 순서는 예약일 최신순으로 노출되며, 출발일 최신순으로 재정렬 가능하다.
          - 리스트 상단에는 건수를 노출하며 건수는 종속된 예약코드 기준으로 출력된다.
            - 예시) 통합예약코드1개에 종속예약코드 5개 인 경우 5건으로 출력한다.
          - 리스트에는 통합예약코드가 추가되어 통합예약코드와 결제 총합금액이 출력된다.
          - 예약일/예약코드, 상품명, 결제금액, 인원, 출발일/귀국일, 여행/예약상태는 기존 패키지와 노출조건은 동일하다.
          - 모든 예약코드는 단일예약코드로 관리된다.
        - 예약내역상세
          - 퍼즐팩인 경우 공통적으로 노출될 수 있는 일차별 일정표를 보여주며 출력도 가능하다.
          - 패키지 예약내역 상세와 동일하게 노출되며 상단에 통합예약코드 컬럼 추가 노출된다.
          - 통합예약코드 우측으로 안내 툴팁이 노출된다.
            - 툴팁내용 : 퍼즐팩 결제 시 생성되는 통합예약번호입니다. 상세내역은 각 예약번호에서 확인해주세요.
          - 통합예약코드보기 팝업
            - 통합예약코드 선택 시 종속된 예약코드를 확인할 수 있는 팝업이 호출된다.
              - 퍼즐팩 통합예약코드 안내문구 노출한다.
              - 예약코드, 출발일, 인원수, 상품명 리스트 형식으로 노출되며
              - 예약코드 영역 선택 시 예약내역상세 페이지로 이동된다.
- 퍼즐팩 Phase1 정책
- 통합예약코드 보기 (팝업)


---


## 🖼 Slide 23: - 23 -

          - 그 외 영역은 기존과 동일하다. (각 예약코드 별 정보 출력)
            - 예약자정보, 여행자정보, 상품결제정보 등
            - 하나투어 제휴카드 영역 히든처리 필요
          - 계약서 노출 정책 정리가 필요하다.
- 퍼즐팩 Phase1 정책


---


## 🖼 Slide 24: - 24 -

      - PC 예약내역
        - 예약내역
          - 예약내역 tab [퍼즐팩]영역이 추가된다.
          - 퍼즐팩으로 생성된 예약코드는 통합코드와 함께 종속된 예약코드로 퍼즐팩에 노출된다.
          - 패키지와 동일하게 예약내역, 취소내역, 지난내역을 노출하며 모든 내역은 예약기간을 선택하여 조회한다.
          - 예약기간의 디폴트 기간은 today ~ today 이다. (기존동일)
          - 노출 순서는 예약일 최신순으로 노출되며, 출발일 최신순으로 재정렬 가능하다.
          - 리스트 상단에는 건수를 노출하며 건수는 종속된 예약코드 기준으로 출력된다.
            - 예시) 통합예약코드1개에 종속예약코드 5개 인 경우 5건으로 출력한다.
          - 리스트에는 통합예약코드가 추가되어 통합예약코드와 결제 총합금액이 출력된다.
          - 예약일/예약코드, 상품명, 결제금액, 인원, 출발일/귀국일, 여행/예약상태는 기존 패키지와 노출조건은 동일하다.
          - 모든 예약코드는 단일예약코드로 관리된다.
        - 예약내역상세
          - 퍼즐팩인 경우 공통적으로 노출될 수 있는 일차별 일정표를 보여주며 출력도 가능하다.
          - 패키지 예약내역 상세와 동일하게 노출되며 상단에 통합예약코드 컬럼 추가 노출된다.
          - 통합예약코드 우측으로 안내 툴팁이 노출된다.
            - 툴팁내용 : 퍼즐팩 결제 시 생성되는 통합예약번호입니다. 상세내역은 각 예약번호에서 확인해주세요.
          - 통합예약코드보기 팝업
            - 통합예약코드 선택 시 종속된 예약코드를 확인할 수 있는 팝업이 호출된다.
            - 예약코드, 출발일, 인원수, 상품명, 상세보기가 리스트 형식으로 노출되며
            - 상세보기 클릭 시 해당 예약코드의 예약내역상세 페이지로 이동된다.
          - 그 외 영역은 기존과 동일하다. (각 예약코드 별 정보 출력)
            - 예약자정보, 여행자정보, 상품결제정보 등
            - 하나투어 제휴카드 영역 히든처리 필요
- 퍼즐팩 Phase1 정책
- 통합예약코드 보기 (팝업)


---


## 🖼 Slide 25: - 25 -

  - 업무포탈 퍼즐팩 노출 기준
    - 퍼즐팩 정책
      - 퍼즐팩 설정은 허브 상품관리 > 판매상품조회/생성 내 테마에서 추가되어 설정 가능하다.
      - 테마 내 ‘퍼즐팩‘ 코드가 포함되어 있으면 퍼즐팩으로 간주한다. (대표설정이 아니어도된다)
      - 본상품의 현지투어플러스상품 매핑은 상품관리 > 판매상품조회/생성에서 설정되며 마스터코드와 구분자 기준으로 매핑한다.
      - 현지투어플러스의 기준상품은 마스터코드+구분자 중 최저가 상품이다.
      - 현지투어플러스는 일괄 덮어쓰기와 단일/일괄 복사기능이 가능하다.
      - 통합예약조회 내 퍼즐팩 통합예약관리를 통해 통합예약코드 및 예약코드로 관리 가능하다.
      - 패키지 > 예약관리 / 예약조회에서도 통합예약코드 조회 및 확인 가능하다.
      - 예약관리 > 통합예약코드 선택 시 종속된 예약코드가 팝업으로 확인 가능하며, 예약코드 선택 시 해당 예약코드의 예약관리 페이지로 이동된다.
      - 퍼즐팩 예약의 통합예약코드는 관리용으로 통합예약코드로 예약취소 및 예약추가는 불가하다.
      - 예약관리는 예약코드 기준으로 관리된다.
      - 파트너포탈 국내판매사, 공급사, 인솔자, HAS에도 통합예약코드는 노출된다.
    - 대상상품기준
      - 퍼즐팩 모상품의 대상상품은 에어텔, 세미패키지 상품이다.
      - 테마구분에 ‘퍼즐팩’으로 설정된 상품에 한해 퍼즐팩 상품으로 구분한다.
      - 퍼즐팩 테마구분은 대표로 설정하지 않아도 되며, 다른 테마와 같이 설정되어 있어도 퍼즐팩으로 분류한다.
        - 하나허브 > 패키지 > 상품관리 > 판매상품관리 > 판매상품조회/생성 > 상품기본(T) > 테마구분
          - 테마 코드 추가 (prodSprtrDvCd)
            - 구분 : 테마
            - 코드 : 258
            - 구분자 : 퍼즐팩
            - 노출문구 :  현업정리필요
            - 대구분 : 관광 + 자유
- 퍼즐팩 Phase1 정책


---


## 🖼 Slide 26: - 26 -

    - 현지투어플러스 설정 정책
      - 상품 테마에서 ‘퍼즐팩’으로 설정 시 현지투어플러스 영역이 활성화된다. (퍼즐팩 이외는 비활성화)
      - 허브영역에 현지투어플러스 설정영역이 신규추가된다.
      - 해당영역에서 설정된 현지투어플러스 상품이 퍼즐팩에 종속된 상품이되며
      - 상품정보 API내 파라미터 추가가 필요하다.
      - 위치 (신규추가) :
        - 하나허브 > 패키지 > 상품관리 > 판매상품관리 > 판매상품조회/생성 > 퍼즐팩/상품핵심(T) > 현지투어플러스(퍼즐팩) 영역
      - 현지투어플러스는 대표상품코드, 마스터코드와 구분자코드 기준으로 설정된다.
        - 대표상품코드
        - 마스터코드
        - 구분자
      - 닷컴에서는 현지투어플러스 대표상품코드정보 및 판매상품코드 정보를 매핑하여 노출한다.
      - 상품설명은 수기로 입력 되어야 하며, 현지투어플러스 상품 매핑 시 입력된다.
      - 기준판매상품
        - 매핑된 대표상품코드, 마스터코드, 구분자 기준으로 최저가 상품이 기준판매상품이 된다.
        - 기준판매상품의 마감 여부는 현지투어플러스 노출 여부에 영향을 주지 않는다. (기준판매상품이 마감인 경우에도 정보는 노출)
        - 기준판매상품의 정보의 일부정보가 퍼즐팩 정보로 노출된다.
          - 최소인원수 , 상품가 (성인 최저가), 관광박수
      - 현지투어플러스 목록
        - 우선순위, 대표상품코드, 마스터코드 + 구분자, 대표상품명, 지역, 방문도시, 성인최저가, 관광박수, 상품설명, 상세, 사용여부 값이 출력된다.
          - 우선순위는 리스트에서 설정 가능하며, 선택박스 설정 시 설정된 우선순위에서 랜덤으로 상위에 노출된다.
          - 대표상품코드와 마스터코드, 구분자는 매핑된 정보가 출력된다.
          - 대표상품명, 지역, 방문도시, 사용여부 정보는 대표상품코드의 정보이다.
          - 성인최저가, 최소인원, 관광박수는 기준판매상품의 정보이다.
- 퍼즐팩 Phase1 정책


---


## 🖼 Slide 27: - 27 -

          - 상품설명은 상품 매핑시 입력되는 정보이다.
          - 선택된 현지투어플러스 상품은 일괄삭제가능하다.
          - 추가버튼을 통해 매핑될 상품추가가 가능하다.
        - 현지투어플러스 상품추가
          - 추가 버튼을 통해 현지투어플러스 상품추가 팝업이 호출된다.
          - 대표상품코드, 마스터코드, 상품구분자로 조회가 가능하며, 마스터코드는 필수 값이다.
          - 조회된 상품리스트에서 선택하여 매핑가능하다.
            - 매핑은 상품코드 1개씩 가능하다.
            - 적용 버튼 실행 시 선택된 상품코드에 대해 상품설명이 입력 추가 팝업이 호출된다.
            - 상품설명이 입력 추가 팝업에서 저장버튼 실행 시 최종 매핑되며, 최종완료 안내 얼럿이 호출된다.
            - 조회 후 선택내역이 없을 경우에는 선택안내 알럿이 호출된다.
          - 조회 시 조회 내역이 없을 경우 안내 알럿이 호출된다.
        - 현지투어플러스 상품 상세보기
          - 매핑된 상품에 대해 상세내용이 팝업으로 호출된다.
          - 대표상품명, 대표상품코드, 마스터코드, 구분자, 대표상품구분, 지역, 방문도시, 태그, 최소인원수, 관광박수, 성인최저가, 대표상품코드이미지, 대표상품설명,상품설명이 출력된다.
            - 대표상품명, 대표상품코드, 대표상품구분, 지역, 방문도시, 태그, 대표상품코드이미지, 대표상품설명은 대표상품코드 정보이며
            - 최소인원수 , 관광박수, 성인최저가는 기준판매상품정보이다.
            - 상품설명은 매핑 시 입력된 정보를 출력한다.
              - 상품설명은 해당 팝업에서 수정 가능하다.
      - 선택관광/상품핵심 탭 하단에 노출되는 저장버튼을 통해 최종 저장된다.
- 퍼즐팩 Phase1 정책


---


## 🖼 Slide 28: - 28 -

    - 퍼즐팩 매핑상품
      - 현지투어플러스 상품상세에서 매핑된 모상품의 상품정보 제공한다.
      - 판매상품코드, 상품명, 모상품좌석수, 모상품예약건수를 표 형식으로 출력한다.
    - 덮어쓰기
      - 덮어쓰기 내 현지투어플러스(퍼즐팩) 영역이 추가된다.
      - 테마가 ‘퍼즐팩＇이 아닌 경우에는 선택박스 영역이 비활성화 된다.
      - 덮어쓰기 시에는 매핑된 현지투어플러스 모든정보가 덮어쓴다.
- 퍼즐팩 Phase1 정책
        - 현지투어플러스 상세 (참고) https://wiki-hanatour.atlassian.net/wiki/spaces/CHANNEL/pages/2554626139/API


---


## 🖼 Slide 29: - 29 -

    - 현지투어플러스(퍼즐팩) API
      - 파라미터 신규 추가 (PZLPK_AITM_CD)
        - 데이터 기준
- 퍼즐팩 Phase1 정책
        - 현지투어플러스 상세 (참고) https://wiki-hanatour.atlassian.net/wiki/spaces/CHANNEL/pages/2554626139/API


---


## 🖼 Slide 30: - 30 -

        - 노출정보
          - 퍼즐팩 대표정보 (리스트)
- 퍼즐팩 Phase1 정책


---


## 🖼 Slide 31: - 31 -

- 퍼즐팩 Phase1 정책
- 예약가능, 출발예정, 출발확정, 예약대기, 예약마감 필요한 데이터 추가확인 필요
          - 퍼즐팩 상세


---


## 🖼 Slide 32: - 32 -

- 퍼즐팩 Phase1 정책
          - 퍼즐팩 예약하기


---


## 🖼 Slide 33: - 33 -

    - 판매예약관리
      - 통합예약관리
        - 퍼즐팩 통합예약코드의 관리는 통합예약관리에서 가능하다
          - 위치 : 영업지원관리 > 통합예약코드조회 > 퍼즐팩 통합예약관리에서 가능하다.
      - 패키지 에약관리
        - 예약조회
          - 패키지 예약조회 내 통합예약코드 조회 및 목록 컬럼 추가된다.
          - 통합예약코드로 조회 가능하며,  통합예약코드로 조회 시 종속 예약코드가 조회된다.
        - 예약관리
          - 통합예약코드 영역이 추가된다.
          - 통합예약코드가 노출되는 예약코드에 대해 퍼즐팩이라고 인지한다.
          - 통합예약코드 선택 시 종속된 예약코드가 확인 가능한 팝업이 호출되며,
          - 팝업에서 예약코드 선택 시 예약코드의 예약관리페이지로 이동된다. (tab에 추가되어 노출)
      - 통합예역코드는 파트너포탈에도 추가된다.
        - 국내판매사, 공급사, 인솔자, HAS
          - 국내판매사
          - 공급사
          - 인솔자
          - HAS (공통)
- 퍼즐팩 Phase1 정책


---


## 🖼 Slide 34: - 34 -

- 현지투어플러스 노출 프로세스
- 판매상품 정보
- 판매상품
- 테마 퍼즐팩 포함여부
- Y/N?
- Y(포함)
- N(불포함)
- 현지투어플러스
- 매핑여부
- Y/N?
- 대표상품코드
- 사용여부
- Y/N?
- 모상품코드
- 기간 내
- 현지투어플러스
- 존재여부?
- Y(매핑)
- N(미매핑)
- 퍼즐팩 제외
- 현지투어플러스
- 미노출
- 현지투어플러스
- 노출
- 퍼즐팩 상품이지만 현지투어플러스 매핑불가
- N(미사용)
- Y(사용)
- 모상품 출발일 ~ 종료일 범위 내 현지투어플러스 판매상품코드 존재 여부 확인
- N(없음)
- Y(존재)
- 현지투어플러스
- 판매상품
- 상태 값 확인
- 예약마감
- 예약가능
- 대표상품코드 : 현지투어플러스 노출 여부 결정
- 판매상품코드 : 일자별 노출 / 선택 가능 여부 결정
- 기준판매상품 : 가격 · 관광박수 등 정보 산출 기준
- 기준판매상품은 퍼즐팩에 노출되는 가격, 최소인원수, 관광박수 등의 정보 산출 기준으로 사용되며,노출 여부 및 선택 가능 여부 판단에는 관여하지 않음


---


## 🖼 Slide 35: 닷컴 모바일

- H-


---


## 🖼 Slide 36: - 36 -

- 모바일 일정표 수정 영역
- 해더
- 푸터
- 메인
- 하단 고정 버튼 (예약하기 / 퍼즐팩)
- 금액
- 상품비교
- 국가별 유의사항
- 핵심포인트
- 미팅장소
- 일차별 일정표
- 선택관광
- 상세일정
- 쇼핑정보
- 함께 많이 본 상품
- 참고사항
- 여행후기
- 총 합계금액 재계산
- 할부 무이자, 카드혜택 영역 히든처리
- 퍼즐팩 추가 총합 금액 노출
- 해더
- 푸터
- 인원선택
- 총 결제 예정 금액
- 결제 예정금액 (총 합계금액) 재계산
- ▲
- 퍼즐팩 선택 노출 영역 (2안)
- 퍼즐팩 선택영역 노출
- 퍼즐팩 상품인 경우 버튼 2개 노출
  - 예약하기
  - 퍼즐팩 : 선택금액 노출
- 퍼즐팩 Phase1- 닷컴 모바일
- 퍼즐팩 금액 노출
- 퍼즐팩 (현지투어플러스)
- 현지투어플러스(퍼즐팩 노출 영역)


---


## 🖼 Slide 37: - 37 -

- 퍼즐팩 Phase1 – 닷컴 모바일
- 퍼즐팩 모바일 Flow (1안)
- 판매상품 일정표
- 상품인원설정 (layer)
- 퍼즐팩 상세 (반팝업)
- 상세설명
- 인원 설정
- 퍼즐팩 담기 (btn)
- 퍼즐팩 2
- 퍼즐팩3
- 퍼즐팩 4
- 결제 예정 금액
- 반팝업호출
- 선택 반영
- 상품 인원설정 반팝업 호출
- 예약하기(btn)
- 999,999원
- 퍼즐팩 (btn)
- 999,999원
- 퍼즐팩 리스트 (팝업)
- 리스트 팝업 호출
- 퍼즐팩 노출영역
- 퍼즐팩
- 반팝업 호출
- 선택 반영
- 퍼즐팩 담기+999,999원
- 선택 금액 반영


---


## 🖼 Slide 38: - 38 -

- 퍼즐팩 Phase1 – 닷컴 모바일
- 퍼즐팩 모바일 Flow (2안)
- 상품인원설정 (layer)
- 결제 예정 금액
- 예약하기 (btn)
- 퍼즐팩 (btn)
- 판매상품 일정표
- 퍼즐팩 상세 (반팝업)
- 상세설명
- 인원 설정
- 퍼즐팩 담기 (btn)
- 퍼즐팩 2
- 퍼즐팩3
- 퍼즐팩 4
- 퍼즐팩 리스트 (팝업)
- 퍼즐팩 노출영역
- 퍼즐팩
- 퍼즐팩 담기+999,999원
- 선택반영
- 반팝업호출
- 선택 반영
- 상품 인원설정 반팝업 호출
- 리스트 팝업 호출
- 반팝업 호출
- 선택 반영
- 선택 금액 반영


---


## 🖼 Slide 39

- 퍼즐팩 담기 카드 영역
- 퍼즐팩 카드
- 현지투어플러스 마스터코드 기준 카드형식으로 출력
- 대표상품코드태그, 대표이미지, 상품명, 최소 출발인원, 성인금액(최저가), 퍼즐팩담기 버튼
- 인원 설정이력이 있을 경우
  - 선택 총 금액 출력
  - 하이라이트 색상 변경
  - 버튼색상, 버튼명 변경
    - 버튼명 : 선택일자, 인원설정 내용
    - 금액 : 총금액으로 수정
- 퍼즐팩 툴팁박스 영역
- x
- 퍼즐팩 (현지투어플러스)
- 퍼즐팩 안내 내용 노출 영역 (내용정리필요)
- 퍼즐팩 인원 설정이력 없음
- 퍼즐팩 인원 설정이력 있음


---


## 🖼 Slide 40

- 퍼즐팩 담기 카드 영역
- 현지투어플러스
- 대표상품코드 등록된 이미지 출력
- 현지투어플러스 상품 상세 출력
- 너비 고정
- 텍스트 길이 너비 이상인 경우 스크롤 생성
- 현지투어플러스 판매상품 상품금액 (나이구분에 따른 총 상품가격 출력)
- 퍼즐팩 담기 (반팝업)
- 현지투어플러스 상품명                                   X
- 퍼즐팩 담기
- 미팅 장소: 레이알 광장(Pl. Reial)
- 미팅 시간: 20:30(일몰에 따라 19:00~21:30 변동 가능)
- 종료 장소: 고딕지구 인근(개별 해산)
- 주요 일정: 레이알광장 → 페란 거리 → 대성당 외관 → 비스베 거리 → 산필립네리 광장 → 왕의광장 → 카탈라냐 음악당 주변
- 현지지불비용: 없음(개별 구매·내부 입장 시 비용 발생 가능
- 주의사항: 일정·동선은 현지 상황에 따라 변경 가능 / 야간 도보 이동으로 개인 안전·소지품 주의
- 준비물: 편한 신발, 가벼운 겉옷, 소지품 최소화
- 소요시간: 약 1시간 30분 ~ 2시간
- 여행 일정: 레이알 광장 미팅 후 바르셀로나 구시가지 야간 도보 투어 진행
- 성인 78,888원
- 아동 53,222원
- 유아 78,888원
- 퍼즐팩 담기
- 2026/01/01(목)
- 2026/01/02(금)
- 2026/01/03(토)
- 2026/01/01(목)
- 2026/01/02(금)
- 상품일자 선택
- 상품일자 미선택
- 2026/01/04(일)
- 마감
- 판매상품코드가 ‘마감’ 상태인 경우에도 일자는 노출되며,선택은 불가한 상태로 표시
- 인원수 선택 안내 Alert
- 선택된 판매상품 정보 재호출
- 예약인원, 좌석수, 상품금액


---


## 🖼 Slide 41

- 1안,  퍼즐팩 담기 카드 영역 – 담기 이력이 있을 경우
- 2안,  모상품 인원선택 레이어 팝업 – 담기 이력이 있을 경우
- X
- X
- 퍼즐팩 담기  합산 금액                                                     999,999,999원
- 퍼즐팩 선택 이력 출력
- 상품명, 출발일, 선택인원수, 총금액, 퍼즐팩  합산금액
- X 버튼 실행 시 선택이력 삭제
- 퍼즐팩 리스트 삭제 confirm
- 퍼즐팩 선택 합산금액 출력


---


## 🖼 Slide 42

- 퍼즐팩 담기 리스트 – 선택 이력이 없을 경우
- 퍼즐팩 담기 리스트                                               X
- 닫기
- 퍼즐팩 담기 리스트 – 선택 이력이 있을 경우
- 퍼즐팩 담기 리스트                                               X
- 퍼즐팩 담기 (+999,999원)
- 총 5 개
- 총 5 개
- 퍼즐팩 선택 이력이 있을 경우,
- 하이라이트 색상 변경
- 버튼색상, 버튼명 변경
- 총 금액, 출발일, 선택인원수 출력
- 퍼즐팩 최종 선택 안내 confirm
- 퍼즐팩 합산금액 노출
- 담기 버튼 실행 시 최종 컨펌팝업 호출
  - 취소 : 컨펌 닫히고 팝업유지
  - 확인 : 최종 반영하고 팝업 닫힘


---


## 🖼 Slide 43

- 모바일 Alert
- 인원수 선택 안내 Alert
- 퍼즐팩 리스트 삭제 confirm
- 퍼즐팩 최종 선택 안내 confirm
- 인원수 선택 안내 Alert


---


## 🖼 Slide 44

- 현지투어플러스 (퍼즐팩)
- 선택완료(2건)
- 계약금 결제금액은 재계산필요
- 퍼즐팩은 전액결제
- 현지투어플러스는 상품약관에 따른 계약금 재계산 필요
- 현지투어플러스 상품명
- 인원    나이구분 (선택 인원수), 나이구분 (선택 인원수)                                금액출력
- YY.MM.YY(요일)
- YY.MM.YY(요일)
- N박N일
- 아코디언 펼쳤을 때
- 성인1
- 여행자 정보1 (성인)                                                                                        재선택
- 성인2
- 여행자 정보3 (성인)                                                                                        재선택
- 아동1
- 여행자 정보4 (아동)                                                                                        재선택
- 여행자 정보
- 여행자 정보 매핑은
- 최초에는 순번순으로 매핑
- 재선택을 통해 여행자 정보 수정하기 팝업 호출
  - 팝업을 통해 여행자 재선택 가능
- 단, 해당 페이지에서는 여행자 정보 입력 후 저장하는 액션이 없으므로, 여행자정보 순번만 노출됨
- 현지투어플러스 (퍼즐팩) 선택 이력
- 아코디언박스형식으로 노출
  - 선택이력 있음  선택완료 (건수)
  - 선택이력 없음  선택없음
- 현지투어플러스는 일정표에서만 선택 가능
- 예약하기에서는 선택(퍼즐팩 담기) 이력이 있는 내역만 노출


---


## 🖼 Slide 45

- 퍼즐팩 여행자정보 수정하기
- 여행자정보 수정하기                                                X
- 여행자 인원 수정 및 변경은 여행 상담사를 통해 가능합니다.
- 만 14세 미만 여행자의 경우 약관교부 및 개인정보 이용 동의 확인을 위한 법정대리인(부모)의 연락처(핸드폰번호, 이메일 주소)로 입력해주세요.
- 2
- 3
- 여행자정보 수정하기                                                X
- 여행자 인원 수정 및 변경은 여행 상담사를 통해 가능합니다.
- 만 14세 미만 여행자의 경우 약관교부 및 개인정보 이용 동의 확인을 위한 법정대리인(부모)의 연락처(핸드폰번호, 이메일 주소)로 입력해주세요.
- 2
- 3
- 성인1
- 여행자 정보1 (성인)                                                                                        재선택
- 성인2
- 여행자 정보3 (성인)                                                                                        재선택
- 아동1
- 여행자 정보4 (아동)                                                                                        재선택
- 4
- 아  동
- 4
- 아  동


---


## 🖼 Slide 46

- 3
- 3
- 통합예약번호 R2500000002                                 (총 2건)
- 통합결제금액 : 999,999원
- 예약번호 HP2500000002                              예약/결제 상세 >
- 여행전
- 예약대기
- 괌 4박5일 에어텔 #두짓타니
- 예약번호 HX2500000003                              예약/결제 상세 >
- 괌 타오타오타씨 입장권 #식사포함 #송영포함
- 여행전
- 예약대기
- 퍼즐팩
- 예약번호 HP2500000002                              예약/결제 상세 >
- 여행전
- 예약대기
- 괌 4박5일 에어텔 #두짓타니
- 통합예약번호 R2500000002                                 (총 1건)
- 통합결제금액 : 999,999원
- 통합예약코드
- 종속된 예약코드 건수, 통합결제금액 출력
- 종속된 예약코드는 각 예약코드별로 예약내역 상세로 이동
- 종속된 예약코드가 1개인 경우에도 퍼즐팩인 경우에는
- 통합예약코드가 생성된다.


---


## 🖼 Slide 47

- HP2500000002 (성인2)                                                                         2026.01.03
- 괌 #리조나레 #사가노 쉐프의 특선디너 #아동무료 #유아무료`
- 통합예약번호
- R2500000001
- ?
- 통합예약보기                                                  X
- 퍼즐팩으로 생성된 통합예약 목록입니다.
- 아래 예약코드를 통해 예약 상세 페이지로 이동할 수 있습니다.
- 결제·변경·취소 등 예약 관련 처리는 각 상품 예약번호 기준으로 진행됩니다.
- HP2500000002 (성인2, 아동1, 유아1)                                               2025.12.31
- 괌 에어텔 4,5일 #두짓타니 #디럭스오션프론트룸
- HP2500000002 (성인2)                                                                         2026.01.01
- 괌 타오타오타씨 #식사포함 #송영포함 #성인
- HP2500000002 (아동1,유아1)                                                               2026.01.01
- 괌 타오타오타씨 #아동입장권 #식사포함
- HP2500000002 (성인2, 아동1)                                                              2026.01.03
- 괌 택시 일일투어 #단독투어 #한국차량가이드 #사랑의언덕 #쇼핑몰 #면세점
- 통합예약코드 노출
- 각 예약코드 내 통합 예약코드 노출  통합예약코드 선택 시 통합예약보기 팝업 호출
- 통합예약보기 팝업을 통해  예약정보 확인 가능 (예약코드, 출발일, 인원수, 상품명 등)  상세보기 선택 시 해당 예약의 예약보기 페이지로 이동
- 툴팁 선택 시 툴팁박스 호출
- 일정표 보기
  - 모상품 상품에 선택된 퍼즐팩 포함된 일정표로 출력
    - 참고) 기존 예약내역상세 > 기타서비스 > 일정표 > 닷컴일정표 이동
- 일정표보기
- 통합결제금액 999,999,999원


---


## 🖼 Slide 48: 닷컴 PC

- H-


---


## 🖼 Slide 49

- 참고) 마이리얼트립
- Step1. 본상품 하단에 추가 가능한 상품 리스트 노출
- Step2. 추가상품 선택 시 팝업으로 상품상세 페이지 노출
- Step3. 옵션선택으로 날짜 및 인원수 설정
- Step4. 선택완료 시 금액 재계산 및 선택 내역 노출


---


## 🖼 Slide 50: - 50 -

- 퍼즐팩 Phase1- PC 수정영역
- 메인이미지
- 상품명, 핵심정보,해시태그등
- 상품금액


---


## 🖼 Slide 51: - 51 -

- 퍼즐팩 Phase1 - PC Flow (1안)
- 중간 생략
- 일차선택
- 1일차
- 퍼즐팩 상세 (팝업)
- 2일차
- 퍼즐팩 담기 (btn)
- 퍼즐팩 2
- 퍼즐팩3
- 퍼즐팩 4
- 퍼즐팩 리스트 (팝업)
- 퍼즐팩 담기+999,999원
- 퍼즐팩 (현지투어플러스)
- <                                                                                            >
- 팝업 호출
- 팝업 호출
- 선택 금액 반영
- 선택 반영
- 선택  반영
- 팝업 호출


---


## 🖼 Slide 52: - 52 -

- 퍼즐팩 Phase1 - PC Flow (2안)
- 중간 생략
- 일차선택
- 1일차
- 현지투어플러스1
- 2일차
- 퍼즐팩 담기 (btn)
- 퍼즐팩 2
- 퍼즐팩3
- 퍼즐팩 4
- 퍼즐팩 리스트 (팝업)
- 퍼즐팩 담기+999,999원
- 퍼즐팩 (현지투어플러스)
- 팝업 호출
- 선택 금액 반영
- 현지투어플러스2
- 현지투어플러스3
- 상세보기
- 상세보기
- 팝업 호출
- 팝업 호출
- 선택 금액 반영
- 퍼즐팩 상세 (팝업)
- 선택 내역 / 금액 반영
- 선택 내역 반영


---


## 🖼 Slide 53

- [퍼즐팩] 버튼 노출 영역
- <
- >
- 퍼즐팩 인원 설정이력 있음
- 퍼즐팩 인원 설정이력 없음
- *모바일과 동일
- 카드혜택 삭제 필요


---


## 🖼 Slide 54

- [퍼즐팩] 버튼 노출 영역
- 성인2, 아동1, 유아1
- 2025/12/31
- 다시선택하기
- 선택일자
- 퍼즐팩 인원 설정이력 있음
- 퍼즐팩 인원 설정이력 없음


---


## 🖼 Slide 55

- 퍼즐팩 담기 이력이 있을 경우
- 성인2, 아동1, 유아1
- 2025/12/31
- 다시선택하기
- 선택일자
- 대표상품설명 입력 내용 있을 경우 노출, 없을 경우 비노출


---


## 🖼 Slide 56

- 퍼즐팩 상세 / 인원설정 팝업
- 퍼즐팩 담기 (모달팝업)
- 현지투어플러스 상품명                                                                   X
- 미팅 장소: 레이알 광장(Pl. Reial)
- 미팅 시간: 20:30(일몰에 따라 19:00~21:30 변동 가능)
- 종료 장소: 고딕지구 인근(개별 해산)
- 주요 일정: 레이알광장 → 페란 거리 → 대성당 외관 → 비스베 거리 → 산필립네리 광장 → 왕의광장 → 카탈라냐 음악당 주변
- 현지지불비용: 없음(개별 구매·내부 입장 시 비용 발생 가능
- 주의사항: 일정·동선은 현지 상황에 따라 변경 가능 / 야간 도보 이동으로 개인 안전·소지품 주의
- 준비물: 편한 신발, 가벼운 겉옷, 소지품 최소화
- 소요시간: 약 1시간 30분 ~ 2시간
- 여행 일정: 레이알 광장 미팅 후 바르셀로나 구시가지 야간 도보 투어 진행
- 성인 78,888원
- 아동 53,222원
- 유아 78,888원
- 퍼즐팩 담기
- 2026/01/01(목)
- 2026/01/02(금)
- 2026/01/03(토)
- 2026/01/04(일)
- 마감
- <                                                                                                                      >
- 2026/01/01(목)
- 2026/01/02(금)
- 상품일자 선택
- 상품일자 미선택
- 현지투어플러스
- 대표상품코드 등록된 이미지 출력
- 현지투어플러스 상품 상세 출력
- 너비 고정
- 텍스트 길이 너비 이상인 경우 스크롤 생성
- 현지투어플러스 판매상품 상품금액 (나이구분에 따른 총 상품가격 출력)
- 판매상품코드가 ‘마감’ 상태인 경우에도 일자는 노출되며,선택은 불가한 상태로 표시
- 일자선택 시
- 예약인원, 좌석수,  나이별 상품금액 재호출


---


## 🖼 Slide 57

- 퍼즐팩 담기 리스트 – 선택 이력이 없을 경우
- 퍼즐팩 담기 리스트                                                                    X
- 닫기
- 퍼즐팩 담기 리스트 – 선택 이력이 있을 경우
- 퍼즐팩 담기 리스트                                                                   X
- 퍼즐팩 담기 (+999,999원)
- 총 5 개
- 총 5 개
- 추천순
- 빠른 날짜순
- 선택내역순


---


## 🖼 Slide 58

- 현지투어플러스 (퍼즐팩)
- 선택완료(2건)
- 예약하기
- 계약금 결제금액은 재계산필요
- 퍼즐팩은 전액결제
- 현지투어플러스는 상품약관에 따른 계약금 재계산 필요
- 아코디언 펼쳤을 때
- 현지투어플러스 상품명
- 인원    나이구분 (선택 인원수), 나이구분 (선택 인원수)                                금액출력
- YY.MM.YY(요일)
- YY.MM.YY(요일)
- N박N일
- 성인1
- 여행자 정보1 (성인)                                                                                        재선택
- 성인2
- 여행자 정보3 (성인)                                                                                        재선택
- 아동1
- 여행자 정보4 (아동)                                                                                        재선택
- 여행자 정보
- 여행자 정보 매핑은
- 최초에는 순번순으로 매핑
- 재선택을 통해 여행자 정보 수정하기 팝업 호출
  - 팝업을 통해 여행자 재선택 가능
- 단, 해당 페이지에서는 여행자 정보 입력 후 저장하는 액션이 없으므로, 여행자정보 순번만 노출됨
- 현지투어플러스 (퍼즐팩) 선택 이력
- 아코디언박스형식으로 노출
  - 선택이력 있음  선택완료 (건수)
  - 선택이력 없음  선택없음
- 현지투어플러스는 일정표에서만 선택 가능
- 예약하기에서는 선택(퍼즐팩 담기) 이력이 있는 내역만 노출


---


## 🖼 Slide 59

- 퍼즐팩 여행자정보 수정하기
- 여행자정보 수정하기                                                X
- 여행자 인원 수정 및 변경은 여행 상담사를 통해 가능합니다.
- 만 14세 미만 여행자의 경우 약관교부 및 개인정보 이용 동의 확인을 위한 법정대리인(부모)의 연락처(핸드폰번호, 이메일 주소)로 입력해주세요.
- 2
- 3
- 여행자정보 수정하기                                                X
- 여행자 인원 수정 및 변경은 여행 상담사를 통해 가능합니다.
- 만 14세 미만 여행자의 경우 약관교부 및 개인정보 이용 동의 확인을 위한 법정대리인(부모)의 연락처(핸드폰번호, 이메일 주소)로 입력해주세요.
- 2
- 3
- 성인1
- 여행자 정보1 (성인)                                                                                        재선택
- 성인2
- 여행자 정보3 (성인)                                                                                        재선택
- 아동1
- 여행자 정보4 (아동)                                                                                        재선택
- 4
- 아  동
- 4
- 아  동
- 모상품 여행자 정보 입력 후 저장하는 액션이 없으므로, 여행자정보 순번만 노출됨


---


## 🖼 Slide 60

- R2500105450
- R2500105450
- R2500105450
- HX2500105452
- 방콕 일일투어 #새벽사원 #농눅빌리지 #진리의성전 #한국가이드
- # 차량가이드 #단독투어
- [ 에어텔 ] 방콕 / 파타야 5박 6일 #파타야 5성급 호텔
- 통합예약코드 노출
- 예약내역 내 퍼즐팩 tab추가
- 통합예약코드 컬럼 추가
  - 예약코드
  - 통합결제금액
- 퍼즐팩
- 통합결제금액 : 999,999원
- 통합결제금액 : 999,999원
- 통합결제금액 : 999,999원


---


## 🖼 Slide 61

- 통합예약번호
- R2500000001
- ?
- 통합예약보기                                                                           X
- 퍼즐팩으로 생성된 통합예약 목록입니다.
- 아래 예약코드를 통해 예약 상세 페이지로 이동할 수 있습니다.
- 결제·변경·취소 등 예약 관련 처리는 각 상품 예약번호 기준으로 진행됩니다..
- 상세보기
- 상세보기
- 상세보기
- 상세보기
- 상세보기
- 일정표보기
- 통합예약코드 노출
- 각 예약코드 내 통합 예약코드 노출  통합예약코드 선택 시 통합예약보기 팝업 호출
- 통합예약보기 팝업을 통해  예약정보 확인 가능 (예약코드, 출발일, 인원수, 상품명 등)  상세보기 선택 시 해당 예약의 예약보기 페이지로 이동
- 툴팁 선택 시 툴팁박스 호출
- 일정표 보기
  - 모상품 상품에 선택된 퍼즐팩 포함된 일정표로 출력
    - 참고) 기존 예약내역상세 > 기타서비스 > 일정표 > 닷컴일정표 이동


---


## 🖼 Slide 62: 하나허브패키지 > 상품관리 > 판매상품관리 > 판매상품조회/생성

- H-


---


## 🖼 Slide 63

- 패키지 > 상품관리 > 판매상품관리 > 판매상품조회/생성 > 상품기본(T)
- 퍼즐팩
- 퍼즐팩 구분 값
- 테마 구분 내 퍼즐팩 추가


---


## 🖼 Slide 64

- 패키지 > 상품관리 > 판매상품관리 > 판매상품조회/생성 > 선택관광/상품핵심(T)
- 현지투어플러스 매핑
- 우선순위, 대표상품코드, 마스터코드 + 구분자, 대표상품명, 지역, 방문도시, 성인최저가, 관광박수, 상품설명, 상세, 사용여부
  - 기준판매상품의 정보
    - 최소인원수
      - 상품가 (성인 최저가)
      - 관광박수
    - 그 외 대표상품코드 정보
  - 현지투어플러스는 매핑된 대표상품코드, 마스터코드, 구분자 기준으로 최저가 상품이 기준판매상품이 된다.


---


## 🖼 Slide 65

- 중간 생략
- 매핑 된 대표상품코드 + 마스터코드 + 구분자 내 모상품의 출발일 / 종료일 기간의 판매상품을 닷컴에 노출된다.
- 패키지 > 상품관리 > 판매상품관리 > 판매상품조회/생성 > 선택관광/상품핵심(T)
- 5


---


## 🖼 Slide 66: - 66 -

- 패키지 > 상품관리 > 판매상품관리 > 판매상품조회/생성 > 선택관광/상품핵심(T)
- 중간 생략
- 5
- 현지투어플러스 상세
- 현지투어플러스 매핑  상세보기
  - 현지투어플러스 대표상품코드정보 및 판매상품코드 정보를 매핑하여 노출한다.
  - 상품설명은 수기로 입력 되어야 하며, 현지투어플러스 상품 매핑 시 입력된다.


---


## 🖼 Slide 67

- 중간 생략
- 패키지 > 상품관리 > 판매상품관리 > 판매상품조회/생성 > 선택관광/상품핵심(T)
- 5
- 현지투어플러스 상품추가
- 추가 버튼을 통해 현지투어플러스 상품추가 팝업이 호출된다.
- 대표상품코드, 마스터코드, 상품구분자로 조회가 가능하며, 마스터코드는 필수 값이다.
- 현지투어플러스는 대표상품코드, 마스터코드와 구분자코드 기준으로 검색 되어 매핑 된다.
  - 대표상품코드
  - 마스터코드
  - 구분자
- 조회된 상품리스트에서 선택하여 매핑가능하다.
  - 매핑은 상품코드 1개씩 가능하다.
  - 매핑 버튼 실행 시 선택된 상품코드에 대해 상품설명이 입력 추가 팝업이 호출된다.
  - 상품설명이 입력 추가 팝업에서 저장버튼 실행 시 최종 매핑되며, 최종완료 안내 얼럿이 호출된다.
  - 조회 후 선택내역이 없을 경우에는 선택안내 알럿이 호출된다.
- 조회 시 조회 내역이 없을 경우 안내 알럿이 호출된다.


---


## 🖼 Slide 68

- 중간 생략
- 패키지 > 상품관리 > 판매상품관리 > 판매상품조회/생성 > 선택관광/상품핵심(T)
- 5
- 현지투어플러스 상세설명
- *현지투어플러스 퍼즐팩에 노출되는 상품의 상세내용을 입력해주세요
- 저장
- 적용 버튼 실행 시 선택된 상품코드에 대해 상품설명이 입력 추가 팝업이 호출된다.
- 상품설명이 입력 추가 팝업에서 저장버튼 실행 시 최종 매핑되며, 최종완료 안내 얼럿이 호출된다.


---


## 🖼 Slide 69

- 현지투어플러스(퍼즐팩)
- 퍼즐팩 상품이 아닌 경우,
- 현지투어플러스(퍼즐팩)
- 패키지 > 상품관리 > 판매상품일괄관리 > 상품덮어쓰기
- 덮어쓰기
- 덮어쓰기 내 현지투어플러스(퍼즐팩) 영역이 추가된다.
- 테마가 ‘퍼즐팩＇이 아닌 경우에는 선택박스 영역이 비활성화 된다.


---


## 🖼 Slide 70

- 패키지 > 상품관리 > 판매상품관리 > 판매상품조회/생성 > 상품기본(T)
- 퍼즐팩 매핑상품
- 현지투어플러스 상품상세에서 매핑된 모상품의 상품정보 제공한다.
- 판매상품코드, 상품명, 모상품좌석수, 모상품예약건수를 표 형식으로 출력한다.


---


## 🖼 Slide 71

- 통합예약코드
- 통합예약코드
- R2500000001
- 패키지 > 판매예약 > 예약관리 > 예약조회 > 예약조회 / 예약목록
- 패키지 예약조회
- 패키지 예약조회 내 통합예약코드 조회 및 목록 컬럼 추가된다.
- 통합예약코드로 조회 가능하며,  통합예약코드로 조회 시 종속 예약코드가 조회된다


---


## 🖼 Slide 72

- 예약코드의 예약관리로 이동
- 패키지 > 판매예약 > 예약관리 > 예약관리
- AAB210251208KEV
- HP2500000002
- R2500000001
- HP2500000002
- 패키지 예약관리
- 통합예약코드 영역이 추가된다.
- 통합예약코드가 노출되는 예약코드에 대해 퍼즐팩이라고 인지한다.
- 통합예약코드 선택 시 종속된 예약코드가 확인 가능한 팝업이 호출되며,
- 팝업에서 예약코드 선택 시 예약코드의 예약관리페이지로 이동된다. (tab에 추가되어 노출)


---


## 🖼 Slide 73: - 73 -

- 통합예약관리 메뉴 및 화면 추가 (공통영역)
- 메뉴추가
- 화면추가


---

